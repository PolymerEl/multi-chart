{"version":3,"file":"progress-bar.js","sourceRoot":"","sources":["../../src/fixtures/progress-bar.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  LitElement,\n  html,\n  css,\n  customElement,\n  property,\n  PropertyValues\n} from 'lit-element';\n\nconst normalizeValue = (value: number, min: number, max: number) => {\n  let nV;\n\n  if (!value && value !== 0) {\n    nV = 0;\n  } else if (min >= max) {\n    nV = 1;\n  } else {\n    nV = (value - min) / (max - min);\n\n    nV = Math.min(Math.max(nV, 0), 1);\n  }\n\n  return nV;\n};\n\n/**\n * A custom element similar to the HTML5 `<progress>` element.\n *\n * @element progress-bar\n *\n * @cssprop --progress-bar-fill-color - Color of the filled progress bar part.\n * @cssprop --progress-bar-opacity - Opacity set on the underlying track.\n *\n * @csspart bar - A progress bar background.\n * @csspart value - A progress bar foreground.\n */\n@customElement('progress-bar')\nexport class ProgressBar extends LitElement {\n  /**\n   * Current progress value.\n   */\n  @property({ type: Number }) value = 0.5;\n\n  /**\n   * Minimum bound of the progress bar.\n   */\n  @property({ type: Number }) min = 0;\n\n  /**\n   * Maximum bound of the progress bar.\n   */\n  @property({ type: Number }) max = 1;\n\n  /**\n   * Indeterminate state of the progress bar.\n   * This property takes precedence over other state properties (min, max, value).\n   */\n  @property({ type: Boolean, reflect: true }) indeterminate = false;\n\n  static get styles() {\n    return css`\n      :host {\n        display: block;\n        width: 100%;\n        height: 4px;\n        margin: 8px 0;\n        position: relative;\n        overflow: hidden;\n\n        --progress-bar-fill-color: #6200ee;\n        --progress-bar-opacity: 0.16;\n      }\n\n      :host::before {\n        content: '';\n        display: block;\n        height: 100%;\n        background-color: var(--progress-bar-fill-color);\n        opacity: var(--progress-bar-opacity);\n      }\n\n      :host([hidden]) {\n        display: none !important;\n      }\n\n      [part='bar'] {\n        position: absolute;\n        top: 0;\n        width: 100%;\n        height: 100%;\n        transform: scaleX(var(--progress-value));\n        transform-origin: 0 0;\n      }\n\n      [part='value'] {\n        height: 100%;\n        background-color: var(--progress-bar-fill-color);\n      }\n\n      :host([indeterminate]) [part='bar'] {\n        left: -100%;\n        animation: progress-indeterminate-translate 2s infinite linear;\n      }\n\n      :host([indeterminate]) [part='value'] {\n        animation: progress-indeterminate-scale 2s infinite linear;\n      }\n\n      @keyframes progress-indeterminate-translate {\n        0% {\n          transform: translateX(0);\n        }\n        20% {\n          animation-timing-function: cubic-bezier(0.5, 0, 0.701732, 0.495819);\n          transform: translateX(0);\n        }\n        59.15% {\n          animation-timing-function: cubic-bezier(\n            0.302435,\n            0.381352,\n            0.55,\n            0.956352\n          );\n          transform: translateX(83.67142%);\n        }\n        100% {\n          transform: translateX(200.611057%);\n        }\n      }\n\n      @keyframes progress-indeterminate-scale {\n        0% {\n          transform: scaleX(0.08);\n        }\n        36.65% {\n          animation-timing-function: cubic-bezier(\n            0.334731,\n            0.12482,\n            0.785844,\n            1\n          );\n          transform: scaleX(0.08);\n        }\n        69.15% {\n          animation-timing-function: cubic-bezier(0.06, 0.11, 0.6, 1);\n          transform: scaleX(0.661479);\n        }\n        100% {\n          transform: scaleX(0.08);\n        }\n      }\n    `;\n  }\n\n  protected render() {\n    return html`\n      <div part=\"bar\"><div part=\"value\"></div></div>\n    `;\n  }\n\n  protected firstUpdated() {\n    this.setAttribute('role', 'progressbar');\n  }\n\n  protected updated(props: PropertyValues) {\n    const minChanged = props.has('min');\n    if (minChanged) {\n      this._minChanged(this.min);\n    }\n\n    const maxChanged = props.has('max');\n    if (maxChanged) {\n      this._maxChanged(this.max);\n    }\n\n    const valueChanged = props.has('value');\n    if (valueChanged) {\n      this._valueChanged(this.value);\n    }\n\n    if (valueChanged || minChanged || maxChanged) {\n      this._normalizedValueChanged(this.value, this.min, this.max);\n    }\n  }\n\n  private _normalizedValueChanged(value: number, min: number, max: number) {\n    const newValue = normalizeValue(value, min, max);\n    this.style.setProperty('--progress-value', `${newValue}`);\n  }\n\n  private _valueChanged(value: number) {\n    this.setAttribute('aria-valuenow', `${value}`);\n  }\n\n  private _minChanged(min: number) {\n    this.setAttribute('aria-valuemin', `${min}`);\n  }\n\n  private _maxChanged(max: number) {\n    this.setAttribute('aria-valuemax', `${max}`);\n  }\n}\n"]}
<link rel="import" href="../../polymer/polymer.html">
<link rel="import" href="../properties/multi-x-coordinates-behavior.html">
<link rel="import" href="../properties/multi-y-coordinates-behavior.html">
<link rel="import" href="../properties/multi-chart-properties-behavior.html">
<link rel="import" href="../properties/multi-color-properties-behavior.html">
<link rel="import" href="../properties/multi-selection-properties-behavior.html">
<link rel="import" href="../d3-shape/d3-stack.html">
<link rel="import" href="../shape/multi-shape-stack.html">
<link rel="import" href="../multi-scale.html">
<link rel="import" href="../multi-series.html">
<link rel="import" href="../multi-accessor.html">
<link rel="import" href="../multi-legend.html">
<link rel="import" href="../multi-container-coordinate.html">
<link rel="import" href="../multi-shared-styles.html">
<!-- <link rel="import" href="multi-axis-behaviors.html"> -->
<!--
`multi-poly`
polymer elements for multivariate analysis (depend on crossfilter, universe and reductio)

@demo demo/index.html 
-->
<dom-module id="multi-chart-coordinate">
  <template>
    <style is="custom-style" include="multi-chart multi-chart-selector">

    </style>
    <h2 class="title">[[title]]</h2>
    <h3 class="subtitle">[[subtitle]]</h3>
    <multi-accessor accessor="{{xAccessor}}" path="[[xAccessorPath]]"></multi-accessor>
    <multi-accessor accessor="{{yAccessor}}" path="[[yAccessorPath]]"></multi-accessor>
    <multi-container-coordinate 
     selection-type="[[selectionType]]"
     selected-items="[[selectedItems]]"
     height="{{height}}"
     width="{{width}}"
     data="[[data]]"
     x-accessor="[[xAccessor]]"
     y-domain="[[yDomain]]"
     y-accessor="[[yAccessor]]" 
     x-scale="{{xScale}}"
     y-scale="{{yScale}}"
     x-axis-text="[[xAxisText]]" 
     y-axis-text="[[yAxisText]]" 
     x-elastic="[[xElastic]]" 
     y-elastic="[[yElastic]]" 
     color-scale="{{colorScale}}">
      <multi-series keys="{{keys}}" series="{{series}}">
        <content select="[serie]"></content>
      </multi-series>
      <multi-scale scale-type="[[colorScaleType]]" domain="[[colorDomain]]" range="[[colorRange]]" scale="{{colorScale}}"></multi-scale>
      <content select=":not([serie])"></content>
    </multi-container-coordinate>
  </template>
  <script>
  Polymer({

    is: 'multi-chart-coordinate',

    hostAttributes: {
      multichart: ''
    },

    properties: {

      keys: {
        type: Array, 
        notify: true
      },

      series: {
        type: Array,
        notify: true
      },

     },

    behaviors: [
      Polymer.multi.xCoordinates,
      Polymer.multi.yCoordinates,
      Polymer.multi.chartProperties,
      Polymer.multi.colorProperties,
      Polymer.multi.selectionProperties
    ]

  });
  </script>
</dom-module>

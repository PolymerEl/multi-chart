<link rel="import" href="../../polymer/polymer.html">
<link rel="import" href="d3-shape-coordinate-mixin.html">
<link rel="import" href="d3-shape.html">
<dom-module id="d3-shape-line">
  <script>
  (function() {

    /**
     * ## D3ShapeLine
     *
     * `<d3-shape-line>` a wrapper for [d3-line](https://github.com/d3/d3-shape#line), a line generator produces a spline or polyline, as in a line chart 
     *
     * @memberof MultiChart
     * @customElement
     * @polymer
     * @demo index.html#multi-line-demo
     * @appliesMixin MultiChart.mixin.D3ShapeCoordinate
     **/
    class D3ShapeLine extends
      MultiChart.mixin.D3ShapeCoordinate(
        MultiChart.D3Shape) {
      
      static get is() { return 'd3-shape-line'; }

      static get properties() {
        return {

          /**
           * `shaper` the [line](https://github.com/d3/d3-shape#line) shaper function 
           */
          shaper: {
            type: Function,
            notify: true,
            value: function() {
              const line = d3.line();
              this.applyConfig(line, ['x', 'y', 'defined']);
              return line;
            }
          },

          /**
           * [`defined`](https://github.com/d3/d3-shape#line_defined)
           */
          defined: {
            type: Function
          }
        };
      }

      static get observers() {
        return [
          'observeConfig(x, "x", "shaper","refresh")',
          'observeConfig(y, "y", "shaper","refresh")',
          'observeConfig(defined, "defined", "shaper","refresh")',
        ];
      }
    }

    customElements.define(D3ShapeLine.is, D3ShapeLine);

    if (!window.MultiChart) {
      window.MultiChart = {};
    }

    /* 
     * @namespace MultiChart
     */
    window.MultiChart.D3ShapeLine = D3ShapeLine;

  })();
  </script>
</dom-module>
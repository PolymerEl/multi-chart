<link rel="import" href="../polymer/polymer.html">
<!--
`multi-shape-container`
shape container will relay `draw` and `preDraw` method to child nodes. 


@demo demo/index.html 
-->
<dom-module id="multi-shape-container">
  <template>
    <content></content>
  </template>
  <script>
  Polymer({

    is: 'multi-shape-container',

    properties: {
      /**
       * `isActive` set to false to inactivate this component. It will remove visual elements and inactivate its functionality.
       */
      isActive: {
        type: Boolean,
        readOnly: true,
        value: true
      },

      /**
       * `shallRegister` is a flag to know if this element need to be registered when it is added to a chart-container
       */
      shallRegister: {
        type: Boolean,
        readOnly: true,
        value: true
      },

      /**
       * `isDrawn` flag to know if this element is drawn. 
       */
      isDrawn: {
        type: Boolean,
        readOnly: true
      },

    },

    draw: function() {
      // console.info('DRAw');
      this.__loopChildren('draw', arguments);
      // var args = arguments;
      // this.children.forEach(function(c){
      //   if(c.preDraw) {
      //     c.preDraw.apply(c,args);
      //   }
      // })
    },

    preDraw: function() {
      // var args = arguments;
      this.__loopChildren('preDraw', arguments);
      // this.children.forEach(function(c){
      //   if(c.preDraw) {
      //     c.preDraw.apply(c,args);
      //   }
      // })
    },
    __loopChildren: function(method, args) {
      [].forEach.call(this.children, function(c) {
        if (c[method]) {
          c[method].apply(c, args);
        }
      });
    }

  });
  </script>
  } }
</dom-module>

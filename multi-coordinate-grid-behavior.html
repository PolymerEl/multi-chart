<script>
(function() {
  'use strict';

  var B = window.multi = window.multi || {};

  B.coordinateGrid = {

    properties: {
      // hideAxis: {
      //   type: Boolean,
      //   observer: 'handleAxis'
      // },

      ellasticX: {
        type: Boolean,
        value: false
      },
      ellasticY: {
        type: Boolean,
        value: true
      }

    },

    handleDomain: function(data, yAccessor) {
      var me = this;

      if (me.ellasticX || !me.xDomain) {
        me.xDomain = me.getXDomain(data);
      }
      if (me.ellasticY || !me.yDomain) {
        me.yDomain = [0, d3.max(yAccessor.map(function(accessor) {
          return d3.max(data, accessor);
        }))];
      }

      // me.xRange = [0, me.chartWidth];
      // me.yRange = [me.chartHeight, 0];
    },

    handleChartContent: function(contentSel) {
      contentSel
        .attr('transform', 'translate(' + this.margin.left + ',' + this.margin.top + ')');
    },

    getXDomain: function(data) {
    	if( this.xScaleFamily === 'ordinal') {
    		return data.map(this.xAccessor);
    	}
      return d3.extent(data, this.xAccessor);
    },

    // handleAxis: function() {

    //   var me = this;

    //   var xAxisSel = d3.select(me.$.xAxis);
    //   var yAxisSel = d3.select(me.$.yAxis);

    //   if (me.hideAxis) {
    //     xAxisSel.selectAll('*').remove();
    //     yAxisSel.selectAll('*').remove();
    //     return;
    //   }

    //   d3.select(me.$.xAxisText).attr('x', me.chartWidth);

    //   if (me.duration) {

    //     // xAxisSel
    //     //   .attr('transform', 'translate(0,' + me.chartHeight + ')')
    //     //   .transition().duration(me.duration)
    //     //   .call(me.xAxis.scale(me.xScale));

    //     yAxisSel
    //       .transition().duration(me.duration)
    //       .call(me.yAxis.scale(me.yScale));

    //   } else {

    //     // xAxisSel
    //     //   .attr('transform', 'translate(0,' + me.chartHeight + ')')
    //     //   .call(me.xAxis.scale(me.xScale));

    //     yAxisSel
    //       .call(me.yAxis.scale(me.yScale));
    //   }
    // }


  };

})();
</script>

<link rel="import" href="../polymer/polymer.html">
<script>
/**
 * `multiZoom` behavior for handlin zoom
 *
 */

/** @polymerBehavior */
Polymer.multiZoom = {

    properties: {
      /* 
       * `enableZoom` set true to enable zoom behaviors
       */
      enableZoom: {
        type: Boolean,
        value: false,
        reflectToAttribute: true
          // observer: '__observeEnableZoom'
      },
      /* 
       * `zoom` the zoom function
       */
      transform: {
        type: Object,
        notify: true
      },


    },
    observers: [
      '__observeEnableZoom(enableZoom,width, height)'
    ],
    __observeEnableZoom: function(enable, width, height) {
      if (enable && width && height) {
        // var scale0 = (width - 1) / 2 / Math.PI;
        var zoom = d3.zoom().on('zoom', zoomed);
        var zoomedEl = d3.select(this.$.zoom);

        d3.select(this.$.svg).call(zoom);

        function zoomed() {
          zoomedEl.attr('transform', d3.event.transform);
        }
        }
        if (!enable && old) {
          // remove listner
          // d3.select(this.$.zoom)
        }

      }

    };
</script>

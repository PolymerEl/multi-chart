<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="multi-base-behavior.html">
<link rel="import" href="multi-shape-bar.html">
<link rel="import" href="multi-accessor.html">
<link rel="import" href="multi-container-coordinate.html">
<link rel="import" href="multi-shared-styles.html">
<!-- <link rel="import" href="multi-axis-behaviors.html"> -->
<!--
`multi-poly`
polymer elements for multivariate analysis (depend on crossfilter, universe and reductio)

@demo demo/index.html 
-->
<dom-module id="multi-chart-bar">
  <template>
    <style is="custom-style" include="multi-chart multi-chart-selector">

    </style>
    <h2 class="title">[[title]]</h2>
    <h3 class="subtitle">[[subtitle]]</h3>
    <multi-accessor accessor="{{xAccessor}}" accessor-path="[[xAccessorPath]]"></multi-accessor>
    <multi-accessor accessor="{{yAccessor}}" accessor-path="[[yAccessorPath]]"></multi-accessor>
    <multi-container-coordinate 
      selection-type="[[selectionType]]" 
      selectedItems="[[selectedItems]]" 
      chart-height="{{_height}}" 
      data="[[data]]" 
      x-accessor="[[xAccessor]]" 
      y-accessor="[[yAccessor]]" 
      x-scale="{{xScale}}" 
      y-scale="{{yScale}}" 
      x-axis-text="{{xAxisText}}" 
      y-axis-text="{{yAxisText}}" 
      x-elastic="{{xElastic}}" 
      y-elastic="{{yElastic}}" 
      color-scale="{{colorScale}}">
      <multi-shape-bar index="0" height="[[_height]]" x-accessor="[[xAccessor]]" y-accessor="[[yAccessor]]" x-scale="[[xScale]]" y-scale="[[yScale]]" color-scale="[[colorScale]]"></multi-shape-bar>
    </multi-container-coordinate>
  </template>
  <script>
  Polymer({

    is: 'multi-chart-bar',

    hostAttributes: {
      multichart: ''
    },

    properties: {

      selectionType: {
        type: String,
        value: 'brushX'
      },

      selectedItems: {
        type: Array,
        notify: true
      },

      xElastic: {
        type: Boolean,
        value: false
      },

      yElastic: {
        type: Boolean,
        value: true
      },

      yAxisText: {
        type: String
      },
      xAxisText: {
        type: String
      },

      xAccessorPath: {
        type: String,
        value: 'key'
      },
      yAccessorPath: {
        type: String,
        value: '+value.count'
      }
    },

    behaviors: [
      // Polymer.multi.base,
      // Polymer.multi.color,
      // Polymer.multi.selector
    ]

  });
  </script>
</dom-module>
